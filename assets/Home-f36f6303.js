import{f as K,a as P,b as Q,c as W,d as X,e as Y}from"./index-9c665c4e.js";import{d as Z,r as C,n as x,a as w,t as I,o as tt,b as l,c as u,e,f as et,g as a,w as s,F as g,_ as st,h as at,i as h,j as v,k as L,l as _,u as n,m as ct,p as ot,C as nt,q as lt,s as rt,A as it}from"./index-81f77f6b.js";import{_ as _t}from"./InfoBox.vue_vue_type_style_index_0_lang-a23d9add.js";import{_ as N}from"./ImgBox.vue_vue_type_style_index_0_lang-ecc94166.js";const dt=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Recent Articles")]),e("div",{class:"gap"})],-1),ut={class:"cover-img",style:{height:"200px"}},gt=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Blog Info")]),e("div",{class:"gap"})],-1),ft=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Featured Articles")]),e("div",{class:"gap"})],-1),pt={class:"cover-img",style:{height:"250px"}},mt={class:"box-description"},xt={class:"tag-content"},ht={class:"title"},vt={class:"default description"},yt={class:"bottom-line"},bt=e("span",{class:"memo"},"by ",-1),kt={class:"default"},At=e("span",{class:"gary-gap"},null,-1),Ct={class:"memo"},Bt=Z({__name:"Home",setup(wt){const y=C(""),b=C(""),f=x.findIndex(t=>t.titleEN==="HOME");f>-1&&(y.value=x[f].bannerImgUrl,b.value=x[f].bgColor);const r=w({count:{articles:0,tags:0,categories:0},categories:[],tags:[],featuredArticles:[],recentArticles:[]}),p=w({nickName:"",description:""}),{count:$,categories:B,tags:j,featuredArticles:D,recentArticles:R}=I(r),{nickName:F,description:T}=I(p),E=async()=>{const t=await K();t&&(p.nickName=t==null?void 0:t.nickName,p.description=t==null?void 0:t.description)},H=async()=>{const t=await P();t&&(r.tags=t)},V=async()=>{const t=await Q();t&&(r.categories=t)},M=async()=>{const t=await W();t&&(r.count=t)},S=async()=>{const t=await X();t&&(r.featuredArticles=t.map(o=>(o.createDate&&(o.year=o.createDate.split("-")[0]),o)))},U=async()=>{const t=await Y();t&&(r.recentArticles=t.map(o=>(o.createDate&&(o.year=o.createDate.split("-")[0]),o)))};return tt(()=>{S(),U(),H(),V(),M(),E()}),(t,o)=>{const q=ot,k=nt,A=at("router-link"),i=lt,d=st,z=rt,O=it;return l(),u(g,null,[e("div",{class:"home-top-bg",style:et({backgroundImage:`url(${y.value})`,backgroundColor:b.value})},null,4),a(d,{justify:"center",class:"home-content"},{default:s(()=>[a(i,{xs:22,sm:22,md:20,lg:22,xl:21,xxl:18,class:"home-box"},{default:s(()=>[dt,a(d,{class:"box-content",justify:"space-between",gutter:[{xs:8,sm:8,md:24,lg:36,xl:38,xxl:50},20]},{default:s(()=>[(l(!0),u(g,null,h(n(R),(c,m)=>(l(),v(i,{key:"dd"+m,xs:24,sm:24,md:24,lg:8,xl:8,class:"card-box"},{default:s(()=>[a(A,{to:`/article/tech/${c.year}/${c.id}`},{default:s(()=>[a(k,{class:"card-item"},{cover:s(()=>[e("div",ut,[a(N,{class:"article-img",src:c.cover},null,8,["src"])])]),default:s(()=>[a(q,{class:"box-bottom-title",title:c.title},{description:s(()=>[L(_(c.subTitle),1)]),_:2},1032,["title"])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1}),a(i,{xs:22,sm:22,md:20,lg:22,xl:21,xxl:18},{default:s(()=>[a(d,{justify:"space-between",gutter:0},{default:s(()=>[a(i,{xs:24,sm:24,md:24,lg:10,xl:9,class:"home-box"},{default:s(()=>[gt,a(_t,{"nick-name":n(F),description:n(T),categories:n(B),tags:n(j),count:n($)},null,8,["nick-name","description","categories","tags","count"])]),_:1}),a(i,{md:24,lg:13,xl:14,class:"home-box"},{default:s(()=>[ft,a(d,{justify:"space-around",class:"box-content",gutter:[0,40]},{default:s(()=>[(l(!0),u(g,null,h(n(D),(c,m)=>(l(),v(i,{key:"card"+m,span:24,class:"card-box"},{default:s(()=>[a(A,{to:`/article/tech/${c.year}/${c.id}`},{default:s(()=>[a(k,{class:"card-item"},{cover:s(()=>[e("div",pt,[a(N,{class:"article-img",src:c.cover},null,8,["src"])])]),default:s(()=>[e("div",mt,[e("div",xt,[(l(!0),u(g,null,h(c.tagList,(G,J)=>(l(),v(z,{key:"tag"+J,color:"cyan"},{default:s(()=>[L(_(G.name),1)]),_:2},1024))),128))]),e("h1",ht,_(c.title||""),1),e("p",vt,_(c.description),1),e("div",yt,[a(O,{src:c.authorAvatar},null,8,["src"]),bt,e("span",kt,_(c.author),1),At,e("span",Ct,_(n(ct)(c.createDate).format("LL")),1)])])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Bt as default};
