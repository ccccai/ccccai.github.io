import{f as K,a as P,b as Q,c as W,d as X,e as Y}from"./index-adf5374a.js";import{d as Z,r as tt,n as k,a as A,t as w,o as et,b as C,c as l,e as u,w as s,f as e,g as st,h as a,i as p,j as m,k as I,l as _,u as n,F as x,m as at,_ as ct,C as ot,p as nt,q as lt,s as it,A as rt}from"./index-73fb1ba1.js";import{_ as _t}from"./InfoBox.vue_vue_type_style_index_0_lang-9ca1a012.js";import{_ as L}from"./ImgBox.vue_vue_type_style_index_0_lang-eddea1e4.js";const dt=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Recent Articles")]),e("div",{class:"gap"})],-1),ut={class:"cover-img",style:{height:"200px"}},ft=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Blog Info")]),e("div",{class:"gap"})],-1),gt=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Featured Articles")]),e("div",{class:"gap"})],-1),pt={class:"cover-img",style:{height:"250px"}},mt={class:"box-description"},xt={class:"tag-content"},ht={class:"title"},vt={class:"default description"},yt={class:"bottom-line"},bt=e("span",{class:"memo"},"by ",-1),kt={class:"default"},At=e("span",{class:"gary-gap"},null,-1),wt={class:"memo"},jt=Z({__name:"Home",setup(Ct){const h=tt(""),v=k.findIndex(t=>t.title_en==="HOME");v>-1&&(h.value=k[v].bannerImgUrl);const i=A({count:{articles:0,tags:0,categories:0},categories:[],tags:[],featuredArticles:[],recentArticles:[]}),f=A({nickName:"",description:""}),{count:$,categories:N,tags:j,featuredArticles:B,recentArticles:D}=w(i),{nickName:R,description:F}=w(f),T=async()=>{const t=await K();t&&(f.nickName=t==null?void 0:t.nickName,f.description=t==null?void 0:t.description)},H=async()=>{const t=await P();t&&(i.tags=t)},V=async()=>{const t=await Q();t&&(i.categories=t)},E=async()=>{const t=await W();t&&(i.count=t)},M=async()=>{const t=await X();t&&(i.featuredArticles=t.map(o=>(o.createDate&&(o.year=o.createDate.split("-")[0]),o)))},S=async()=>{const t=await Y();t&&(i.recentArticles=t.map(o=>(o.createDate&&(o.year=o.createDate.split("-")[0]),o)))};return et(()=>{M(),S(),H(),V(),E(),T()}),(t,o)=>{const U=ct,y=ot,b=C("router-link"),r=nt,d=lt,q=it,z=rt,O=C("base-layout");return l(),u(O,{class:"home"},{default:s(()=>[e("div",{class:"home-top-bg",style:st({backgroundImage:`url(${h.value})`})},null,4),a(d,{justify:"center",class:"home-content"},{default:s(()=>[a(r,{xs:22,sm:22,md:20,lg:22,xl:21,xxl:18,class:"home-box"},{default:s(()=>[dt,a(d,{class:"box-content",justify:"space-between",gutter:[{xs:8,sm:8,md:24,lg:36,xl:38,xxl:50},20]},{default:s(()=>[(l(!0),p(x,null,m(n(D),(c,g)=>(l(),u(r,{key:"dd"+g,xs:24,sm:24,md:24,lg:8,xl:8,class:"card-box"},{default:s(()=>[a(b,{to:`/article/tech/${c.year}/${c.id}`},{default:s(()=>[a(y,{class:"card-item"},{cover:s(()=>[e("div",ut,[a(L,{class:"article-img",src:c.cover},null,8,["src"])])]),default:s(()=>[a(U,{class:"box-bottom-title",title:c.title},{description:s(()=>[I(_(c.subTitle),1)]),_:2},1032,["title"])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1}),a(r,{xs:22,sm:22,md:20,lg:22,xl:21,xxl:18},{default:s(()=>[a(d,{justify:"space-between",gutter:0},{default:s(()=>[a(r,{xs:24,sm:24,md:24,lg:10,xl:9,class:"home-box"},{default:s(()=>[ft,a(_t,{"nick-name":n(R),description:n(F),categories:n(N),tags:n(j),count:n($)},null,8,["nick-name","description","categories","tags","count"])]),_:1}),a(r,{md:24,lg:13,xl:14,class:"home-box"},{default:s(()=>[gt,a(d,{justify:"space-around",class:"box-content",gutter:[0,40]},{default:s(()=>[(l(!0),p(x,null,m(n(B),(c,g)=>(l(),u(r,{key:"card"+g,span:24,class:"card-box"},{default:s(()=>[a(b,{to:`/article/tech/${c.year}/${c.id}`},{default:s(()=>[a(y,{class:"card-item"},{cover:s(()=>[e("div",pt,[a(L,{class:"article-img",src:c.cover},null,8,["src"])])]),default:s(()=>[e("div",mt,[e("div",xt,[(l(!0),p(x,null,m(c.tagList,(G,J)=>(l(),u(q,{key:"tag"+J,color:"cyan"},{default:s(()=>[I(_(G.name),1)]),_:2},1024))),128))]),e("h1",ht,_(c.title||""),1),e("p",vt,_(c.description),1),e("div",yt,[a(z,{src:c.authorAvatar},null,8,["src"]),bt,e("span",kt,_(c.author),1),At,e("span",wt,_(n(at)(c.createDate).format("LL")),1)])])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{jt as default};
