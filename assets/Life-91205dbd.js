import{d as L,t as v,b as _,c as o,e as $,w as b,u,f as s,h as m,l as h,m as w,_ as C,i as p,F as N,j as z,g as x,p as D,q,r as B,a as S,n as k,o as E}from"./index-5c68b5a0.js";import{_ as U}from"./BannerBox.vue_vue_type_style_index_0_lang-9a9a054b.js";import{_ as A}from"./time-dd149834.js";import{h as f,i as j}from"./index-e2593150.js";import{_ as P}from"./ImgBox.vue_vue_type_style_index_0_lang-d34da600.js";const V={class:"list-img"},R={class:"list-desc"},T={class:"desc-title"},M={class:"desc-subtitle"},G={class:"desc-date"},H=s("img",{class:"date-icon",src:A},null,-1),J={class:"date"},K={class:"desc-text"},O=L({__name:"NoteItem",props:{data:{default:()=>({})},year:{default:""}},setup(e){const r=e,{id:t,cover:n,title:d,subTitle:g,authorAvatar:i,createDate:l,description:a}=v(r.data);return(c,y)=>{const F=_("a-avatar"),I=_("router-link");return o(),$(I,{to:`/article/life/${c.year}/${u(t)}`,class:"note-list-box"},{default:b(()=>[s("div",V,[m(P,{src:u(n)},null,8,["src"])]),s("div",R,[s("div",T,h(u(d)),1),s("div",M,h(u(g)),1),s("div",G,[m(F,{size:"small",src:u(i)},null,8,["src"]),H,s("span",J,h(u(w)(u(l)).format("LL")),1)]),s("div",K,h(u(a)),1)])]),_:1},8,["to"])}}});const Q=L({name:"NotesList",components:{NoteItem:O},props:{list:{type:Array,default:[]},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageNo:{type:Number,default:1},onPageChange:{type:Function,default:()=>{}},bannerUrl:{type:String,default:""}}});const W={class:"notes-content"},X={class:"list-year"},Y={class:"list-box-info"},Z={class:"pager-content"},ee={key:1};function te(e,r,t,n,d,g){const i=_("note-item"),l=_("a-pagination");return o(),p("div",W,[s("div",{class:"notes-list",style:x({backgroundImage:`url(${e.bannerUrl})`})},[(o(!0),p(N,null,z(e.list,(a,c)=>(o(),p("div",{key:c},[a.list.length?(o(),p(N,{key:0},[s("div",X,h(a.date),1),s("div",Y,[(o(!0),p(N,null,z(a.list,y=>(o(),$(i,{year:a.date,data:y},null,8,["year","data"]))),256))])],64)):D("",!0)]))),128))],4),s("div",Z,[e.total?(o(),$(l,{key:0,"show-total":a=>`Total ${a} article`,"page-size":e.pageSize,current:e.pageNo,total:e.total,"on-change":e.onPageChange},null,8,["show-total","page-size","current","total","on-change"])):(o(),p("span",ee,"这个作者很懒，什么都没有写~~"))])])}const ae=C(Q,[["render",te]]),se=L({ame:"Life",components:{BannerBox:U,NoteList:ae},watch:{$route:{handler(e,r){var t,n;((t=e.query)==null?void 0:t.page)!==((n=r.query)==null?void 0:n.page)&&this.initData()},deep:!0}},setup(){var l;const e=q(),r=B(""),t=S({total:0,pageSize:10,pageNo:Number((l=e.query)==null?void 0:l.page)||1}),n=S({articleList:[]}),d=k.findIndex(a=>a.title_en==="LIFE");d>-1&&(r.value=k[d].bannerImgUrl),E(()=>{g()});const g=()=>{var a;t.pageNo=Number((a=e.query)==null?void 0:a.page)||1,i(t.pageNo,t.pageSize)},i=async(a,c)=>{t.pageSize=c,t.pageNo=a,(!f().list.length||c!==Number(f().pageSize))&&await j(t),f().$patch({pageNo:t.pageNo,pageSize:t.pageSize}),n.articleList=f().list[t.pageNo-1],t.total=f().total};return{...v(n),...v(t),bannerImgUrl:r,initData:g,handlePage:i}}}),oe={class:"life-content"};function ne(e,r,t,n,d,g){const i=_("banner-box"),l=_("note-list"),a=_("a-col"),c=_("a-row");return o(),p(N,null,[m(i,{title:"Life Notes","banner-url":e.bannerImgUrl},null,8,["banner-url"]),m(c,{justify:"center"},{default:b(()=>[m(a,{xs:22,sm:22,md:22,lg:22,xl:18,xxl:18,class:"life-box"},{default:b(()=>[s("div",oe,[m(l,{list:e.articleList,total:e.total,"page-size":e.pageSize,"page-no":e.pageNo,"on-page-change":y=>e.$router.push({name:"Life",query:{page:y}})},null,8,["list","total","page-size","page-no","on-page-change"])])]),_:1})]),_:1})],64)}const _e=C(se,[["render",ne]]);export{_e as default};
