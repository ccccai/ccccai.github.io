import{f as K,a as P,b as Q,c as W,d as X,e as Y}from"./index-05e8e71a.js";import{d as Z,r as tt,n as w,a as I,t as L,o as et,b as n,c as r,e as f,w as s,f as e,g as p,h as c,i as x,j as h,k as $,l as _,u as l,F as v,m as st}from"./index-12075b0e.js";import{_ as at}from"./InfoBox.vue_vue_type_style_index_0_lang-92e2218d.js";const ct=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Recent Articles")]),e("div",{class:"gap"})],-1),ot=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Blog Info")]),e("div",{class:"gap"})],-1),nt=e("div",{class:"box-title"},[e("div",{class:"title-content"},[e("div",{class:"text"},"Featured Articles")]),e("div",{class:"gap"})],-1),lt={class:"box-description"},rt={class:"tag-content"},it={class:"title"},dt={class:"default description"},_t={class:"bottom-line"},ut=e("span",{class:"memo"},"by ",-1),ft={class:"default"},gt=e("span",{class:"gary-gap"},null,-1),mt={class:"memo"},yt=Z({__name:"Home",setup(pt){const y=tt(""),b=w.findIndex(t=>t.title_en==="HOME");b>-1&&(y.value=w[b].bannerImgUrl);const i=I({count:{articles:0,tags:0,categories:0},categories:[],tags:[],featuredArticles:[],recentArticles:[]}),g=I({nickName:"",description:""}),{count:C,categories:N,tags:j,featuredArticles:B,recentArticles:D}=L(i),{nickName:R,description:F}=L(g),T=async()=>{const t=await K();t&&(g.nickName=t==null?void 0:t.nickName,g.description=t==null?void 0:t.description)},H=async()=>{const t=await P();t&&(i.tags=t)},V=async()=>{const t=await Q();t&&(i.categories=t)},E=async()=>{const t=await W();t&&(i.count=t)},M=async()=>{const t=await X();t&&(i.featuredArticles=t.map(o=>(o.createDate&&(o.year=o.createDate.split("-")[0]),o)))},S=async()=>{const t=await Y();t&&(i.recentArticles=t.map(o=>(o.createDate&&(o.year=o.createDate.split("-")[0]),o)))};return et(()=>{M(),S(),H(),V(),E(),T()}),(t,o)=>{const U=n("a-card-meta"),k=n("a-card"),A=n("router-link"),d=n("a-col"),u=n("a-row"),z=n("a-tag"),O=n("a-avatar"),q=n("base-layout");return r(),f(q,{class:"home"},{default:s(()=>[e("div",{class:"home-top-bg",style:p({backgroundImage:`url(${y.value})`})},null,4),c(u,{justify:"center",class:"home-content"},{default:s(()=>[c(d,{xs:22,sm:20,md:17,lg:20,xl:19,xxl:16,class:"home-box"},{default:s(()=>[ct,c(u,{class:"box-content",justify:"space-between",gutter:[{xs:8,sm:8,md:24,xl:24,xxl:24},20]},{default:s(()=>[(r(!0),x(v,null,h(l(D),(a,m)=>(r(),f(d,{key:"dd"+m,xs:24,sm:24,md:24,lg:8,xl:8,class:"card-box"},{default:s(()=>[c(A,{to:`/article/tech/${a.year}/${a.id}`},{default:s(()=>[c(k,{class:"card-item"},{cover:s(()=>[e("div",{class:"cover-img",style:p({height:"200px",backgroundImage:`url(${a.cover})`})},null,4)]),default:s(()=>[c(U,{class:"box-bottom-title",title:a.title},{description:s(()=>[$(_(a.subTitle),1)]),_:2},1032,["title"])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1}),c(d,{xs:24,sm:22,md:20,lg:20,xl:19,xxl:16},{default:s(()=>[c(u,{justify:"center",gutter:40},{default:s(()=>[c(d,{xs:22,sm:22,md:20,lg:10,xl:10,xxl:10,class:"home-box"},{default:s(()=>[ot,c(at,{"nick-name":l(R),description:l(F),categories:l(N),tags:l(j),count:l(C)},null,8,["nick-name","description","categories","tags","count"])]),_:1}),c(d,{xs:22,sm:22,md:20,lg:14,xl:14,xxl:14,class:"home-box"},{default:s(()=>[nt,c(u,{justify:"space-around",class:"box-content",gutter:[0,40]},{default:s(()=>[(r(!0),x(v,null,h(l(B),(a,m)=>(r(),f(d,{key:"card"+m,span:24,class:"card-box"},{default:s(()=>[c(A,{to:`/article/tech/${a.year}/${a.id}`},{default:s(()=>[c(k,{class:"card-item"},{cover:s(()=>[e("div",{class:"cover-img",style:p({height:"250px",backgroundImage:`url(${a.cover})`})},null,4)]),default:s(()=>[e("div",lt,[e("div",rt,[(r(!0),x(v,null,h(a.tagList,(G,J)=>(r(),f(z,{key:"tag"+J,color:"cyan"},{default:s(()=>[$(_(G.name),1)]),_:2},1024))),128))]),e("h1",it,_(a.title||""),1),e("p",dt,_(a.description),1),e("div",_t,[c(O,{src:a.authorAvatar},null,8,["src"]),ut,e("span",ft,_(a.author),1),gt,e("span",mt,_(l(st)(a.createDate).format("LL")),1)])])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{yt as default};
