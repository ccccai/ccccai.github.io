import{_ as w}from"./BannerBox.vue_vue_type_style_index_0_lang-fd4a4834.js";import{_ as x}from"./time-dd149834.js";import{h as B}from"./index-957936d0.js";import{d as b,t as y,b as l,c as n,e as v,w as $,u as o,f as a,g as I,l as m,h as f,m as A,_ as C,i as c,F as h,j as L,p as D,a as k,r as E,n as z,o as U}from"./index-e3a8c438.js";const P={class:"list-desc"},j={class:"desc-title"},V={class:"desc-subtitle"},T={class:"desc-date"},M=a("img",{class:"date-icon",src:x},null,-1),q={class:"date"},G={class:"desc-text"},H=b({__name:"NoteItem",props:{data:{default:()=>({})},year:{default:""}},setup(e){const _=e,{id:u,cover:d,title:p,subTitle:i,authorAvatar:r,createDate:t,description:s}=y(_.data);return(g,N)=>{const F=l("a-avatar"),S=l("router-link");return n(),v(S,{to:`/article/life/${g.year}/${o(u)}`,class:"note-list-box"},{default:$(()=>[a("div",{class:"list-img",style:I({backgroundImage:`url(${o(d)})`})},null,4),a("div",P,[a("div",j,m(o(p)),1),a("div",V,m(o(i)),1),a("div",T,[f(F,{size:"small",src:o(r)},null,8,["src"]),M,a("span",q,m(o(A)(o(t)).format("LL")),1)]),a("div",G,m(o(s)),1)])]),_:1},8,["to"])}}});const J=b({name:"NotesList",components:{NoteItem:H},props:{list:{type:Array,default:[]},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageNo:{type:Number,default:1},onPageChange:{type:Function,default:()=>{}},bannerUrl:{type:String,default:""}}});const K={class:"notes-content"},O={class:"list-year"},Q={class:"list-box-info"},W={class:"pager-content"},X={key:1};function Y(e,_,u,d,p,i){const r=l("note-item"),t=l("a-pagination");return n(),c("div",K,[a("div",{class:"notes-list",style:I({backgroundImage:`url(${e.bannerUrl})`})},[(n(!0),c(h,null,L(e.list,(s,g)=>(n(),c("div",{key:g},[s.list.length?(n(),c(h,{key:0},[a("div",O,m(s.date),1),a("div",Q,[(n(!0),c(h,null,L(s.list,N=>(n(),v(r,{year:s.date,data:N},null,8,["year","data"]))),256))])],64)):D("",!0)]))),128))],4),a("div",W,[e.total?(n(),v(t,{key:0,"show-total":s=>`Total ${s} article`,"page-size":e.pageSize,current:e.pageNo,total:e.total,"on-change":e.onPageChange},null,8,["show-total","page-size","current","total","on-change"])):(n(),c("span",X,"这个作者很懒，什么都没有写~~"))])])}const Z=C(J,[["render",Y]]),R=b({ame:"Life",components:{BannerBox:w,NoteList:Z},setup(){const e=k({total:0,pageSize:10,pageNo:1}),_=E(""),u=k({articleList:[]}),d=z.findIndex(i=>i.title_en==="LIFE");d>-1&&(_.value=z[d].bannerImgUrl),U(()=>{p(1,10)});const p=async(i,r)=>{e.pageSize=r,e.pageNo=i;const t=await B();t&&(u.articleList=(t==null?void 0:t.list)||[],e.total=(t==null?void 0:t.total)||0)};return{...y(u),...y(e),bannerImgUrl:_,handlePage:p}}}),ee={class:"life-content"};function te(e,_,u,d,p,i){const r=l("banner-box"),t=l("note-list"),s=l("a-col"),g=l("a-row");return n(),c(h,null,[f(r,{title:"Life Notes","banner-url":e.bannerImgUrl},null,8,["banner-url"]),f(g,{justify:"center"},{default:$(()=>[f(s,{xs:22,sm:22,lg:22,xl:18,xxl:16,class:"life-box"},{default:$(()=>[a("div",ee,[f(t,{list:e.articleList,total:e.total,"page-size":e.pageSize,"page-no":e.pageNo,"on-page-change":e.handlePage},null,8,["list","total","page-size","page-no","on-page-change"])])]),_:1})]),_:1})],64)}const le=C(R,[["render",te]]);export{le as default};
