import{_ as S}from"./BannerBox.vue_vue_type_style_index_0_lang-b60e7d6a.js";import{_ as w}from"./time-dd149834.js";import{h as x}from"./index-2bf5eea2.js";import{d as v,t as y,b as c,c as n,i as l,f as a,g as C,u as o,l as m,h as f,m as B,_ as F,F as h,j as b,e as N,p as A,a as L,r as D,n as z,o as E,w as I}from"./index-9dda85be.js";const U=["href"],P={class:"list-desc"},j={class:"desc-title"},V={class:"desc-subtitle"},T={class:"desc-date"},M=a("img",{class:"date-icon",src:w},null,-1),q={class:"date"},G={class:"desc-text"},H=v({__name:"NoteItem",props:{data:{default:()=>({})},year:{default:""}},setup(e){const _=e,{id:d,cover:u,title:p,subTitle:i,authorAvatar:r,createDate:t,description:s}=y(_.data);return(g,$)=>{const k=c("a-avatar");return n(),l("a",{href:`/article?t=life&y=${g.year}&id=${o(d)}`,class:"note-list-box"},[a("div",{class:"list-img",style:C({backgroundImage:`url(${o(u)})`})},null,4),a("div",P,[a("div",j,m(o(p)),1),a("div",V,m(o(i)),1),a("div",T,[f(k,{size:"small",src:o(r)},null,8,["src"]),M,a("span",q,m(o(B)(o(t)).format("LL")),1)]),a("div",G,m(o(s)),1)])],8,U)}}});const J=v({name:"NotesList",components:{NoteItem:H},props:{list:{type:Array,default:[]},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageNo:{type:Number,default:1},onPageChange:{type:Function,default:()=>{}},bannerUrl:{type:String,default:""}}});const K={class:"notes-content"},O={class:"list-year"},Q={class:"list-box-info"},W={class:"pager-content"},X={key:1};function Y(e,_,d,u,p,i){const r=c("note-item"),t=c("a-pagination");return n(),l("div",K,[a("div",{class:"notes-list",style:C({backgroundImage:`url(${e.bannerUrl})`})},[(n(!0),l(h,null,b(e.list,(s,g)=>(n(),l("div",{key:g},[s.list.length?(n(),l(h,{key:0},[a("div",O,m(s.date),1),a("div",Q,[(n(!0),l(h,null,b(s.list,$=>(n(),N(r,{year:s.date,data:$},null,8,["year","data"]))),256))])],64)):A("",!0)]))),128))],4),a("div",W,[e.total?(n(),N(t,{key:0,"show-total":s=>`Total ${s} article`,"page-size":e.pageSize,current:e.pageNo,total:e.total,"on-change":e.onPageChange},null,8,["show-total","page-size","current","total","on-change"])):(n(),l("span",X,"这个作者很懒，什么都没有写~~"))])])}const Z=F(J,[["render",Y]]),R=v({ame:"Life",components:{BannerBox:S,NoteList:Z},setup(){const e=L({total:0,pageSize:10,pageNo:1}),_=D(""),d=L({articleList:[]}),u=z.findIndex(i=>i.title_en==="LIFE");u>-1&&(_.value=z[u].bannerImgUrl),E(()=>{p(1,10)});const p=async(i,r)=>{e.pageSize=r,e.pageNo=i;const t=await x();t&&(d.articleList=(t==null?void 0:t.list)||[],e.total=(t==null?void 0:t.total)||0)};return{...y(d),...y(e),bannerImgUrl:_,handlePage:p}}}),ee={class:"life-content"};function te(e,_,d,u,p,i){const r=c("banner-box"),t=c("note-list"),s=c("a-col"),g=c("a-row");return n(),l(h,null,[f(r,{title:"Life Notes","banner-url":e.bannerImgUrl},null,8,["banner-url"]),f(g,{justify:"center"},{default:I(()=>[f(s,{xs:22,sm:22,lg:22,xl:18,xxl:16,class:"life-box"},{default:I(()=>[a("div",ee,[f(t,{list:e.articleList,total:e.total,"page-size":e.pageSize,"page-no":e.pageNo,"on-page-change":e.handlePage},null,8,["list","total","page-size","page-no","on-page-change"])])]),_:1})]),_:1})],64)}const le=F(R,[["render",te]]);export{le as default};
